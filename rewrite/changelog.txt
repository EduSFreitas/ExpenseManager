Fix Expense item ellipsize

Remove Toolbar/SupportActionBar from app as it caused all sorts of issues when restoring state
Add up button to MiscFragment
Add top padding to fragments

Move intDefs, Constants to a constants package
MetadataFragment
    - Make close button local var
    - Add an edit text to enable disable features on pressing delete button
MainActivity
    - Fix a bug where fragments and activity was getting recreated without restoring its state. Fix was to setup toolbar always while, setting up nav controller and graph only if saved instance state was null
AppHelper
    - Add prefs for splitting enabled boolean
CurrencyHelper
    - Modify divide method to use sMaxCurrencyPrecision instead of hardcoded 10 that resulted in 10 decimal places visible
WorkHelper
    - Modify one time works to be unique
AddExpense
    - Fix issue when a backed up expense is edited and moved to a different sheet - will result
                in expense duplicated in both sheets
    - Modify availability of splitting button based on new pref
    - Creating a copy of expense from mExpense when adding new
    - Remove code to add splitwise expense, instead it splits amount into 2 now
Analysis
    - Modify progress so that if denominator is 0, progress will be 0 not 100
    - Fix tabs having a background that's different for dark theme
    - Move tabs to left and make tab text non caps
Use latest libs across the board

DatabaseMigration
    - Add migration to v6 to add new table for edited sheets with migration test and table test
ExpenseManagerDbTest
    - Fix a Expense table test
ExpenseDao
    - Add a method to get expenses for backup (expenses from edited sheets and new ones)
SheetRepository
    - Add an overload method to insert a range that takes in edited sheet ids as parameter
ExpenseDetailsFragment
    - Remove disabling of edit and delete buttons for backed up expenses
    - Made edit, delete, clone buttons not all caps
SheetRequestHelper
    - Modify update request method to get UpdateCellsRequest object as well
    - Move expense row data generation code to its own method
    - Add new method to create a map of edited sheets and its expenses
AddExpense
    - Create a copy object properly when editing expense
    - Add a new row in EditedSheets if edited expense was a backed up expense
AllExpenses
    - Add a new row in EditedSheets if deleted expense was a backed up expense
BackupWorker
    - Get edited sheets and generate request accordingly
    - Delete all edited sheets after a successful backup
    - Insert a log if backup throws an exception
[Has a known issue when a backed up expense is edited and moved to a different sheet - will result
in expense duplicated in both sheets]

LogRepository
    - Fix get logs by adding a way to refresh them manually
BarAdapter
    - Show green when you have used the max value but haven't gone over
AllExpenses
    - Show "Edit" snack bar after clone indefinitely
BaseFragment
    - Insert only the status of work to logs
MetadataFragment
    - Refresh logs on start and on deletion
MiscFragment
    - Remove work status logging
    - Enable hidden options when debug build
MainApplication
    - Cancel periodic backup in debug builds
AddExpense
    - Change date button to not be all caps
AnalysisFragment
    - Center and scrollable tab view so it fits all devices

BaseFragment
    - Insert log to db for work status
MetadataFragment
    - Prevent back click that closes app - now will go up
    - Increase lines for metadata items so that whole log is visible
MiscellaneousFragment
    - Log legacy and new scheduled backup status
    - Remove auto backup menu option
    - Hide edit entities menu option for now
AppHelper
    - Remove Auto backup pref helper methods
DateHelper
    - Add method to get initial delay for periodic backup work with unit test
WorkHelper
    - Rearrange some code
    - Add a way to cancel old periodic work (that ran when auto backup toggle was changed) and enqueue new periodic work (runs around 2AM)
Constants
    - Remove log type constants - use work type wherever necessary
MainApplication
    - Cancel legacy periodic work and enqueue new periodic work

ExpenseAdapter
    - Remove unnecessary code
    - Remove sync status
    - Add color to amount for debug builds to show sync status
AllExpensesFragment
    - Move calculation code to Calculator
    - No longer show not backed up count
Calculator
    - Modify to calculate everything or just total expense amount

Miscellaneous Fragment
    - Hid all spreadsheet related options - backup, sync, spreadsheet id
    - Can be enabled by tapping 7 times on version info
    - Reset enablement on fragment start
AppHelper
    - Remove unused code - enable hidden options and migration step

Add a way to start edit entities (SetupFrag)

Add a way to add splitwise expense
    - Add toggle to add a duplicate split by 2 expense

CategoryRepo, PaymentMethodRepo
    - Remove source type variable
    - Add new method to get mutable list
ListPickerMultiSelectionAdapter
    - New adapter with item deletion capability
SetupFragment
    - Repurpose fragment to edit categories, payment methods and budgets (Incomplete)
MainActivity
    - Make AllExpensesFrag the default start destination
SheetRequestHelper
    - Made changes to entities sheet creation to include budgets (Not tested)
MainApplication
    - Add default categories and payment methods from string arrays file if spreadsheet id not set (assumes it's first time). This logic will need to be adjusted if entities are set manually but spreadsheet id still not set
Change primary and teal color for night theme

AddExpense
    - Reduce collapse expand icon size
AllExpenses
    - Bring back analysis bottom sheet expand icon
Make teal primary color and change it to be same as one stock app's color

AddExpenseFragment
    - Change sheets list view to be a grid
    - Move it to an expanding card view at the top
    - Move Save button to bottom (Portrait)

BarAdapter
    - Show different color when progress is >=100
    - Reduce animation speed to 1500ms
    - Change item ui
BarWrapper
    - Remove Value3
    - Rename Value 1 and 2 to something more meaningful
AllExpenses
    - Remove 3 dot menu button
    - Move buttons to LinearLayout
AnalysisFragment
    - Change item ui
    - Add an indicator that sheet opens
    - Send progress value as 100 when dividing by 0
CurrencyHelper
    - Change "strip zeros" logic
    - Add unit test
    -

AllExpensesFrag
    - Remove analysis, setup and filter buttons from CardView
    - Add a menu button in place
    - Implement onClickListener and move button clicks to bottom of class

SheetRepository
    Add method to get data from multiple ranges
MiscFragment
    Add new option to sync expenses
    Move log and delete options to General section
TransformationHelper
    Add a method to convert list of sheet info to map of sheet name (key) and id (value)
WorkHelper
    Add method to get OneTimeExpenseSyncWorker's tag
    Add method to enqueue OneTimeExpenseSyncWorker
ExpenseSyncWorker
    New worker to get expenses from multiple ranges and save them in db
Use SheetsCore 3.1.0

SheetDao
    add a way to get name of sheet from id
SheetRepository
    comment instance creation for DriveProcessor (not needed for now)
    get sheet name from dao
SheetPickerAdapter
    fix default selection for filter
FilterOptionsFragment
    add viewmodel, getting sheets from VM and not arguments
AllExpensesFragment
    remove progress bar, refresh view, moved buttons around
    add Add button for when no expenses
    modify card info view
AllExpensesViewModel
    remove getting sheet infos, just get sheet name for sheet id
    cleanup


ExpenseDao
    add method to get expenses for sheet id
    add abstract method to delete existing backed up expenses for sheet id, and add new ones
    rearranged stuff
ExpenseRepo
    remove local data source stuff
    move methods from ExpenseSheetsRepo here
    add a way to get expenses from Spreadsheet and save it to db
    rename some methods
ExpenseAdapter
    remove method to get expenses from expense wrappers
    add sync status image for not backed up expenses
AllExpenseFragment
    move stuff from ExpenseFrag here
    add refreshlayout to fetch from spreadsheet
    add add expense button
    add a way to edit and delete expense (only non backed up ones)
AnalysisFragment
    fix nav bar button color getting all white
MiscFragment
    show action bar since bottom nav is gone
MainActivity
    remove bottom nav
AllExpenseViwModel
    remove expense sheets repo
    expense repo does everything
MainApplication
    remove ExpenseSheetsRepo
ExpenseItem
    switch places of category and store
    add sync status image
Remove ExpensesFragment

- Delete default sheet id migration code from MainActivity
- Set default sheet id if not set in syncworker
- Set default visibility of new analysis and filter buttons to gone


- Add a way to get list of expenses from ExpenseAdapter
- Add secondary modify filter button when no expenses are available
- Show analysis of selected expenses
- Add Analysis fragment to show calculated values
- Add total values for budget, payments, categories in Calculator
- Add method to CurrencyHelper to strip trailing zeros
- Add method to CurrencyHelper to divide BigDecimals
- Add a way to get ViewModel with List<Expense> parameter to ViewModelFactory
- Change night red color to be same as light red color

- Move filter button to be below card view in all expenses
- Add Analysis button
- Remove change sheet button
- Rename Change Sheet frag to FilterOptions
- Remove top bottom padding on all views

- Add budget dummy data
- Move UNDEFINED Int constant to subclass in Constants
- Move to using limited scope full time
- Add Calculator to calculate values for categories, payment methods and budget and log them

- Db version to 5
- Add db migration
- Add Budget table, dao, repository
- Add list converter for string list objects in room table
- Remove max entities limit when getting entities so that budgets can be read
- Sync budgets in SyncWorker
- Add gson library used for listconverter

- Add ripple to misc frag items for touch effect

- Remove some of migrate code as not needed
- Change night red color to be lighter
- Remove sheets from metadata

- Add migrate option
-   Will create a copy of existing spreadsheet from within the app so app can access it with lesser permissions
-   Steps
       1. Go to Setup tab at the bottom
       2. Tap migrate
       3. Wait for Spreadsheet Id to be refreshed. Don't close the app until the migrate button reads "Tap to restore access"
       4. Close the app
       5. Go to https://myaccount.google.com/u/0/permissions and remove access to Expense Manager
       6. Wait for like 10 mins
       7. Go to Setup tab
       8. Tap Migrate again
       9. Make sure you see the new screen to grant reduced permissions
       10. Tap allow
       11. Tap Sync
       12. Turn on and off Auto Backup (if you want it on)
       13. Add a new expense and tap backup now to make sure everything is working
- Change no expenses text color in history tab
- Add DriveProcess instance to SheetRepository
- Add a method to refresh processor instances (MainApp and SheetRepo)
- Add methods to get create (with entities and template) spreadsheet and copy file requests
- Use SheetsCore 3.0.0

- Change color of new expenses fragment to have red instead of teal
- Change icon and names of bottom tabs (icon - all tab, names - all, misc tab)

- Fix spreadsheet Id being null because  it was saved after it was needed

- Fix calls to SheetProcessor methods that didn't send  SpreadsheetId

- Change Version Info string to be correct case
- Fix Change Sheet button jumping around
- Null check objects list in ExpenseSheetsRepository
- Change to ONE_OF_RANGE for categories & payments so that they can be picked from sheet itself

- Center change sheets fragment grid

- Move AutoBackup, Version info, Spreadsheet Id, theme selector to Misc fragment
- Fix edit text full screen view in landscape
- Add DialogHelper methods to show dialog with edit text and with radio list
- Set default theme on main activity create to fix theme resetting on <Q

- Add progress bar animation to all expenses
- Add null checks for sheet repository get methods

- Fix crash when a sheet doesn't have any expenses
- Set "No expenses" text in all expenses

- Change Bottom nav view bg color

- Sticky header for expenses
- Update library versions for a bunch of libraries

- Change List adapter item style (list_picker_item)
- Change all expenses layout to use fab and similar layout to expenses
- Subclass ExpenseSheetsRepository from ExpenseRepository
- Add info about disabled edit and delete in details
- Show details for backed up expenses as well

- Prevent selecting bottom nav tab if already on selected

- Duplicate expense
- Add new method to Expense Dao to insert and get new expense via @Transaction
- Add copy constructor to Expense
- Add new duplicate callback to detail fragment

- Bottom Nav - add new, all and extra tab
- Remove toolbar in fragments except settings, do not show it in some frags in onStop
- Delete motion layout transition stuff
- Delete unneeded views in ExpensesFrag
- Center align no expenses message
- Update unsynced to synced on backup
- Get unsynced in expenses fragment
- Get expenses from sheets
- Fix (from sheets date) in DateHelper
- Add ExpenseSheets repo to do both expense db and sheets stuff
- Add new Expense constructor to create object from List<Object>
- Fix reconstructing payment method and category from parcel
- Move overflow menu options to new Frag (Miscellaneous)

- Modify text sizes

- Remove backup button from expenses frag (was already hidden)
- Cleanup

- Remove way to get sheets in MetadataFrag

- Update warning dialogs to have no title and change buttons for delete warning
- Adjust expense list header ui
- Change default store and description value
- Remove hidden option Jess

- Enable hidden option for Jess

- Fix flag icon margin top in expense item
- Handle back click so app doesn't close in one of the fragments
- Change "No Expenses" text to "No new expenses"
- Change flag button's style
- Fix potential crash due to no changes done for flag functionality in landscape ui in add expense

- Adapt info height in expenses screen
- Swap category and payment method positions in expense list
- Add flag implementation
- Migrate date layout card to use material button instead
- Update expense updates sync and star status as well
- Send flag column value to spreadsheet

- Fix default sheet selection bug
- Rename AddExpenseViewModel methods to remove expense from name
- Use expense instance from ViewModel instead of what's received as argument in Add Expense fragment
- Add landscape support to expenses, add expense
- Fix status and nav bar color issues
- Change bottom sheet dialog color

- Modify SheetRequestHelper to generate multiple requests with sheet ids from expenses
- Change settings fragment string version info
- Remove settings pref current sheet id
- Add AppHelper.defaultSheetId
- Reduce spacing in add expense fragment layout
- Hide no expenses help message
- Add SheetInfo table
- Add SheetInfo get to SheetRepository with boolean to decide whether to fetch from Google sheet
- Modify SheetRepo constructor to take in Database object
- Move Save button to top
- Add SyncWorker to get info from sheet
- Add a way to sync data from Sheets in MainActivity
- Update ExpenseDao.updateExpense() to update sheet id

- Fix crash amount formatting
- Fix crash with hint on edit text with layout

- Use extended fab for add expense and save expense
- Made visibility gone on "down arrow to indicate add expense button"
- Add new column "sheet_id" to Expense (with migration and tests)

- Fix crash due to SheetRepo null in SetupFragment.
- Add a new public method in MainApp to initialize SheetRepo

- Enabled nav and status bar transparency in theme for API 29

- Deleting expenses directly via database class instead of via repository after backup success
- Made init repo methods private in MainApplication and calling them in onCreate()
- Add a fragment to view logs and sheets in debug mode (or special access mode)
- Add currency format helper and route all big decimals via that class
- Add delete all logs capability
- Move exitToUp() to BaseFragment
- Add version info to settings which can be tapped 7 times to enable hidden options
- Use sheetscore 1.4.0

- Add card view around expense info textviews in expenses fragment
- Fix bug where all expenses will get deleted when single expenses is deleted

- Changed colors for dark and night themes
- Fix theme by battery saver on Android < Q

- Cleanup pref access and set mechanism by adding a AppHelper to read/write prefs
- Add a WorkHelper to route WorkManager requests
- Auto backup toggle in settings works now
- Moved work status logging to onViewCreated in Expenses Fragment
- Changed backup period to 1 day from 12 hours
- Theme toggle works now
- Set default theme according to version code
- Fix bug where default category and payment method won't get selected in the saved expense
- Added a way to delete expense
- Hide Overflow menu button in Settings
- Added a way to backup now when auto backup is enabled
- Added Log table to db and its accompanying migration (with test)
- Added logs for backup success/failure
- Hid Sync now button and made options menu always available
- Add information from expenses to text views
- Change Activity soft input mode to AdjustResize so FAB goes over keyboard
- Add views for when expenses empty
- Add a way to delete all expenses in debug build

